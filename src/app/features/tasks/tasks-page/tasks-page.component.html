<div class="tasks-container">
  <h1>Gestion des Tâches</h1>
  
  <app-task-stats></app-task-stats>

  <h3>Ajouter une tâche</h3>
  <div class="add-task-form">
    <input 
      type="text" 
      #taskInput
      placeholder="Entrez le titre de la tâche"
      (keyup.enter)="addTask(taskInput.value); taskInput.value = ''"
    />
    <button (click)="addTask(taskInput.value); taskInput.value = ''">
      Ajouter
    </button>
  </div>

  <div #highlightContainer></div>
  <div #editContainer></div>

  <h3>Liste des tâches</h3>
  <ul class="task-list">
    @for (t of tasks; track t.id) {
      <li>
        <span [style.text-decoration]="t.completed ? 'line-through' : 'none'"
              [style.color]="t.completed ? '#999' : '#000'">
          {{ t.title }}
        </span>
        
        <div class="task-actions">
          <button type="button" (click)="toggleTask(t.id)" class="btn-toggle">
            {{ t.completed ? 'Réactiver' : 'Terminer' }}
          </button>
          <button type="button" (click)="highlight(t)" class="btn-highlight">
            Mettre en avant
          </button>
          <button type="button" (click)="editTask(t)" class="btn-edit">
            Éditer
          </button>
          <button type="button" (click)="deleteTask(t.id)" class="btn-delete">
            Supprimer
          </button>
        </div>
      </li>
    }
  </ul>
</div>
